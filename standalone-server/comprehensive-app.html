<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IV RELIFE Nexus - Complete Application</title>
    
    <!-- External Dependencies -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/react-router-dom@6/dist/umd/react-router-dom.production.min.js"></script>
    <script src="https://unpkg.com/lucide-react@0.263.1/dist/umd/lucide-react.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        border: "hsl(214.3 31.8% 91.4%)",
                        input: "hsl(214.3 31.8% 91.4%)",
                        ring: "hsl(222.2 84% 4.9%)",
                        background: "hsl(0 0% 100%)",
                        foreground: "hsl(222.2 84% 4.9%)",
                        primary: {
                            DEFAULT: "hsl(222.2 47.4% 11.2%)",
                            foreground: "hsl(210 40% 98%)",
                        },
                        secondary: {
                            DEFAULT: "hsl(210 40% 96%)",
                            foreground: "hsl(222.2 84% 4.9%)",
                        },
                        destructive: {
                            DEFAULT: "hsl(0 84.2% 60.2%)",
                            foreground: "hsl(210 40% 98%)",
                        },
                        muted: {
                            DEFAULT: "hsl(210 40% 96%)",
                            foreground: "hsl(215.4 16.3% 46.9%)",
                        },
                        accent: {
                            DEFAULT: "hsl(210 40% 96%)",
                            foreground: "hsl(222.2 84% 4.9%)",
                        },
                        popover: {
                            DEFAULT: "hsl(0 0% 100%)",
                            foreground: "hsl(222.2 84% 4.9%)",
                        },
                        card: {
                            DEFAULT: "hsl(0 0% 100%)",
                            foreground: "hsl(222.2 84% 4.9%)",
                        },
                    },
                    boxShadow: {
                        card: "0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",
                        elegant: "0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",
                    },
                    animation: {
                        "fade-in": "fadeIn 0.5s ease-in-out",
                    },
                    keyframes: {
                        fadeIn: {
                            "0%": { opacity: "0", transform: "translateY(10px)" },
                            "100%": { opacity: "1", transform: "translateY(0)" },
                        },
                    },
                }
            }
        }
    </script>
    
    <style>
        .transition-smooth { transition: all 0.3s ease; }
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a1a1a1;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="root">
        <div class="flex items-center justify-center min-h-screen">
            <div class="loading-spinner"></div>
            <p class="ml-4 text-gray-600">Loading IV RELIFE Nexus...</p>
        </div>
    </div>

    <script>
        const { useState, useEffect, useCallback, useMemo, createElement: h } = React;
        const { createRoot } = ReactDOM;
        const { BrowserRouter, Routes, Route, Link, useNavigate, useParams, Navigate } = ReactRouterDOM;
        
        // Mock all the Lucide React icons we need
        const {
            ShoppingCart, Users, Package, TrendingUp, Plus, ArrowUpRight, DollarSign,
            Home, FileText, Truck, Settings, LogOut, Search, Bell, User, Menu,
            X, Edit, Trash2, Eye, Calendar, Clock, CheckCircle, AlertCircle,
            Filter, Download, Upload, MoreHorizontal, ChevronRight, ChevronDown,
            Star, Phone, Mail, MapPin, CreditCard, Tag, Zap, Activity
        } = window.LucideReact;

        // Mock Data (comprehensive from the actual app)
        const mockCustomers = [
            {
                id: 'cust-1',
                retailer_id: 'ret-1',
                name: 'John Smith',
                email: 'john.smith@email.com',
                phone: '(555) 666-7777',
                default_address: {
                    street: '123 Customer Lane',
                    city: 'San Francisco',
                    state: 'CA',
                    zip: '94103',
                    country: 'USA'
                },
                notes: 'VIP customer with excellent payment history',
                created_at: '2024-03-01T00:00:00Z',
                updated_at: '2024-03-01T00:00:00Z'
            },
            {
                id: 'cust-2',
                retailer_id: 'ret-1',
                name: 'Emily Johnson',
                email: 'emily.johnson@email.com',
                phone: '(555) 888-9999',
                default_address: {
                    street: '456 Buyer Street',
                    city: 'Oakland',
                    state: 'CA',
                    zip: '94607',
                    country: 'USA'
                },
                notes: 'Regular customer, prefers email communication',
                created_at: '2024-03-05T00:00:00Z',
                updated_at: '2024-03-05T00:00:00Z'
            }
        ];

        const mockProducts = [
            {
                id: 'prod-1',
                name: 'IV Hydration Therapy - Basic',
                description: 'Essential hydration therapy with saline solution',
                category_id: 'cat-1',
                price: 150.00,
                stock: 25,
                sku: 'IVH-BASIC-001',
                created_at: '2024-01-10T00:00:00Z'
            },
            {
                id: 'prod-2',
                name: 'Vitamin B12 Energy Boost',
                description: 'High-energy B12 injection therapy',
                category_id: 'cat-2',
                price: 75.00,
                stock: 50,
                sku: 'VIT-B12-ENR',
                created_at: '2024-01-12T00:00:00Z'
            },
            {
                id: 'prod-3',
                name: 'IV Therapy - Immunity Plus',
                description: 'Comprehensive immunity boost with vitamins C, D, and zinc',
                category_id: 'cat-1',
                price: 225.00,
                stock: 15,
                sku: 'IVT-IMM-PLU',
                created_at: '2024-01-15T00:00:00Z'
            }
        ];

        const mockOrders = [
            {
                id: 'ord-1',
                retailer_id: 'ret-1',
                location_id: 'loc-1',
                customer_id: 'cust-1',
                created_by: 'usr-1',
                status: 'processing',
                total_amount: 375.00,
                subtotal_amount: 375.00,
                tax_amount: 0,
                notes: 'Customer requested morning appointment',
                created_at: '2024-03-15T10:30:00Z',
                updated_at: '2024-03-15T11:00:00Z',
                items: [
                    {
                        id: 'oi-1',
                        product_id: 'prod-1',
                        product_name: 'IV Hydration Therapy - Basic',
                        quantity: 1,
                        unit_price: 150.00,
                        total_price: 150.00
                    },
                    {
                        id: 'oi-2', 
                        product_id: 'prod-3',
                        product_name: 'IV Therapy - Immunity Plus',
                        quantity: 1,
                        unit_price: 225.00,
                        total_price: 225.00
                    }
                ]
            },
            {
                id: 'ord-2',
                retailer_id: 'ret-1',
                location_id: 'loc-2',
                customer_id: 'cust-2',
                created_by: 'usr-1',
                status: 'completed',
                total_amount: 150.00,
                subtotal_amount: 150.00,
                tax_amount: 0,
                notes: 'Completed successfully, customer very satisfied',
                created_at: '2024-03-10T14:15:00Z',
                updated_at: '2024-03-11T09:00:00Z',
                items: [
                    {
                        id: 'oi-3',
                        product_id: 'prod-2',
                        product_name: 'Vitamin B12 Energy Boost', 
                        quantity: 2,
                        unit_price: 75.00,
                        total_price: 150.00
                    }
                ]
            },
            {
                id: 'ord-3',
                retailer_id: 'ret-1', 
                location_id: 'loc-1',
                customer_id: 'cust-1',
                created_by: 'usr-1',
                status: 'delivered',
                total_amount: 225.00,
                subtotal_amount: 225.00,
                tax_amount: 0,
                notes: '',
                created_at: '2024-03-08T09:00:00Z',
                updated_at: '2024-03-09T16:00:00Z',
                items: [
                    {
                        id: 'oi-4',
                        product_id: 'prod-3',
                        product_name: 'IV Therapy - Immunity Plus',
                        quantity: 1,
                        unit_price: 225.00,
                        total_price: 225.00
                    }
                ]
            }
        ];

        const mockUser = {
            id: 'usr-1',
            email: 'admin@ivrelife.com',
            role: 'owner',
            name: 'Sarah Chen',
            avatar: 'https://images.unsplash.com/photo-1494790108755-2616b612b47c?w=150&h=150&fit=crop&crop=face'
        };

        // UI Components
        function Card({ children, className = '', ...props }) {
            return h('div', {
                className: `bg-white rounded-lg border border-gray-200 shadow-card ${className}`,
                ...props
            }, children);
        }

        function CardHeader({ children, className = '' }) {
            return h('div', { className: `p-6 pb-4 ${className}` }, children);
        }

        function CardContent({ children, className = '' }) {
            return h('div', { className: `p-6 pt-0 ${className}` }, children);
        }

        function CardTitle({ children, className = '' }) {
            return h('h3', { className: `text-lg font-semibold text-gray-900 ${className}` }, children);
        }

        function Button({ 
            children, 
            variant = 'default', 
            size = 'default', 
            className = '', 
            ...props 
        }) {
            const baseClasses = 'inline-flex items-center justify-center rounded-md font-medium transition-smooth focus:outline-none focus:ring-2 focus:ring-offset-2';
            
            const variants = {
                default: 'bg-gray-900 text-white hover:bg-gray-800 focus:ring-gray-500',
                outline: 'border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 focus:ring-gray-500',
                ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500',
                destructive: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500'
            };
            
            const sizes = {
                default: 'h-10 px-4 py-2',
                sm: 'h-8 px-3 text-sm',
                lg: 'h-12 px-8'
            };
            
            return h('button', {
                className: `${baseClasses} ${variants[variant]} ${sizes[size]} ${className}`,
                ...props
            }, children);
        }

        function Badge({ children, variant = 'default', className = '' }) {
            const variants = {
                default: 'bg-gray-900 text-white',
                secondary: 'bg-gray-100 text-gray-900',
                outline: 'border border-gray-300 text-gray-700',
                destructive: 'bg-red-100 text-red-800'
            };
            
            return h('span', {
                className: `inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${variants[variant]} ${className}`
            }, children);
        }

        function Input({ className = '', ...props }) {
            return h('input', {
                className: `flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-900 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${className}`,
                ...props
            });
        }

        // Layout Components
        function DashboardLayout({ children, currentPage = 'dashboard' }) {
            const [sidebarOpen, setSidebarOpen] = useState(false);
            
            const navigation = [
                { name: 'Dashboard', href: '/', icon: Home, current: currentPage === 'dashboard' },
                { name: 'Orders', href: '/orders', icon: ShoppingCart, current: currentPage === 'orders' },
                { name: 'Customers', href: '/customers', icon: Users, current: currentPage === 'customers' },
                { name: 'Products', href: '/products', icon: Package, current: currentPage === 'products' },
                { name: 'Claims', href: '/claims', icon: FileText, current: currentPage === 'claims' },
                { name: 'Shipping', href: '/shipping', icon: Truck, current: currentPage === 'shipping' },
                { name: 'Settings', href: '/settings', icon: Settings, current: currentPage === 'settings' }
            ];

            return h('div', { className: 'flex h-screen bg-gray-50' },
                // Sidebar
                h('div', { 
                    className: `${sidebarOpen ? 'block' : 'hidden'} fixed inset-0 z-40 lg:block lg:relative lg:z-auto lg:inset-auto lg:flex-shrink-0`
                },
                    h('div', { className: 'w-64 bg-white shadow-lg h-full flex flex-col' },
                        // Logo
                        h('div', { className: 'p-6 border-b border-gray-200' },
                            h('h2', { className: 'text-xl font-bold text-gray-900' }, 'IV RELIFE Nexus')
                        ),
                        // Navigation
                        h('nav', { className: 'flex-1 px-4 py-6 space-y-2' },
                            navigation.map(item => 
                                h(Link, {
                                    key: item.name,
                                    to: item.href,
                                    className: `flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-smooth ${
                                        item.current 
                                            ? 'bg-gray-900 text-white' 
                                            : 'text-gray-700 hover:bg-gray-100'
                                    }`
                                },
                                    h(item.icon, { className: 'w-5 h-5 mr-3' }),
                                    item.name
                                )
                            )
                        ),
                        // User info
                        h('div', { className: 'p-4 border-t border-gray-200' },
                            h('div', { className: 'flex items-center space-x-3' },
                                h('img', { 
                                    src: mockUser.avatar, 
                                    className: 'w-8 h-8 rounded-full',
                                    alt: mockUser.name 
                                }),
                                h('div', null,
                                    h('p', { className: 'text-sm font-medium text-gray-900' }, mockUser.name),
                                    h('p', { className: 'text-xs text-gray-500' }, mockUser.email)
                                )
                            )
                        )
                    )
                ),
                // Main content
                h('div', { className: 'flex-1 flex flex-col overflow-hidden' },
                    // Header
                    h('header', { className: 'bg-white shadow-sm border-b border-gray-200' },
                        h('div', { className: 'flex items-center justify-between px-6 py-4' },
                            h('button', {
                                onClick: () => setSidebarOpen(!sidebarOpen),
                                className: 'lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100'
                            }, h(Menu, { className: 'w-6 h-6' })),
                            h('div', { className: 'flex items-center space-x-4' },
                                h('button', { className: 'p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100' },
                                    h(Bell, { className: 'w-6 h-6' })
                                ),
                                h('button', { className: 'p-2 rounded-md text-gray-500 hover:text-gray-900 hover:bg-gray-100' },
                                    h(Search, { className: 'w-6 h-6' })
                                )
                            )
                        )
                    ),
                    // Page content
                    h('main', { className: 'flex-1 overflow-auto' },
                        h('div', { className: 'p-6' }, children)
                    )
                )
            );
        }

        // Page Components
        function Dashboard() {
            const stats = [
                {
                    title: 'Total Orders',
                    value: mockOrders.length.toString(),
                    change: '+12%',
                    trend: 'up',
                    icon: ShoppingCart,
                    color: 'text-blue-600'
                },
                {
                    title: 'Revenue',
                    value: `$${mockOrders.reduce((sum, order) => sum + order.total_amount, 0).toLocaleString()}`,
                    change: '+8.2%',
                    trend: 'up',
                    icon: DollarSign,
                    color: 'text-green-600'
                },
                {
                    title: 'Active Customers',
                    value: mockCustomers.length.toString(),
                    change: '+4.1%',
                    trend: 'up',
                    icon: Users,
                    color: 'text-purple-600'
                },
                {
                    title: 'Products',
                    value: mockProducts.length.toString(),
                    change: '+2.3%',
                    trend: 'up',
                    icon: Package,
                    color: 'text-orange-600'
                }
            ];

            const recentOrders = mockOrders.slice(0, 5);
            
            const getCustomerName = (customerId) => {
                const customer = mockCustomers.find(c => c.id === customerId);
                return customer ? customer.name : 'Unknown Customer';
            };

            return h(DashboardLayout, { currentPage: 'dashboard' },
                h('div', { className: 'space-y-8 animate-fade-in' },
                    // Header
                    h('div', { className: 'flex items-center justify-between' },
                        h('div', null,
                            h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Dashboard'),
                            h('p', { className: 'text-gray-600 mt-1' }, 'Monitor your IV RELIFE operations')
                        ),
                        h(Link, { to: '/orders/new' },
                            h(Button, { className: 'shadow-elegant' },
                                h(Plus, { className: 'w-4 h-4 mr-2' }),
                                'New Order'
                            )
                        )
                    ),

                    // Stats Grid
                    h('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6' },
                        stats.map((stat) => 
                            h(Card, { key: stat.title, className: 'shadow-card hover:shadow-elegant transition-smooth' },
                                h(CardHeader, { className: 'flex flex-row items-center justify-between space-y-0 pb-2' },
                                    h(CardTitle, { className: 'text-sm font-medium text-gray-600' }, stat.title),
                                    h(stat.icon, { className: `w-5 h-5 ${stat.color}` })
                                ),
                                h(CardContent, null,
                                    h('div', { className: 'text-2xl font-bold text-gray-900' }, stat.value),
                                    h('div', { className: 'flex items-center text-xs text-gray-600 mt-1' },
                                        h(TrendingUp, { className: 'w-3 h-3 mr-1 text-green-600' }),
                                        h('span', { className: 'text-green-600 font-medium' }, stat.change),
                                        h('span', { className: 'ml-1' }, 'from last month')
                                    )
                                )
                            )
                        )
                    ),

                    // Recent Orders & Quick Actions
                    h('div', { className: 'grid grid-cols-1 lg:grid-cols-2 gap-6' },
                        h(Card, { className: 'shadow-card' },
                            h(CardHeader, { className: 'flex flex-row items-center justify-between' },
                                h(CardTitle, { className: 'text-lg font-semibold' }, 'Recent Orders'),
                                h(Link, { to: '/orders' },
                                    h(Button, { variant: 'ghost', size: 'sm' },
                                        'View all',
                                        h(ArrowUpRight, { className: 'w-4 h-4 ml-1' })
                                    )
                                )
                            ),
                            h(CardContent, { className: 'space-y-4' },
                                recentOrders.map((order) => 
                                    h('div', { 
                                        key: order.id, 
                                        className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg'
                                    },
                                        h('div', { className: 'flex-1' },
                                            h('p', { className: 'font-medium text-gray-900' }, getCustomerName(order.customer_id)),
                                            h('p', { className: 'text-sm text-gray-600' }, 
                                                `Order #${order.id.slice(-3)} • $${order.total_amount.toLocaleString()}`
                                            )
                                        ),
                                        h(Badge, { 
                                            variant: order.status === 'completed' ? 'default' :
                                                    order.status === 'delivered' ? 'secondary' :
                                                    order.status === 'processing' ? 'outline' : 'destructive',
                                            className: 'capitalize'
                                        }, order.status)
                                    )
                                )
                            )
                        ),

                        h(Card, { className: 'shadow-card' },
                            h(CardHeader, null,
                                h(CardTitle, { className: 'text-lg font-semibold' }, 'Quick Actions')
                            ),
                            h(CardContent, { className: 'space-y-3' },
                                h(Link, { to: '/orders/new' },
                                    h(Button, { variant: 'outline', className: 'w-full justify-start h-12' },
                                        h(Plus, { className: 'w-4 h-4 mr-3' }),
                                        'Create New Order'
                                    )
                                ),
                                h(Link, { to: '/customers' },
                                    h(Button, { variant: 'outline', className: 'w-full justify-start h-12' },
                                        h(Users, { className: 'w-4 h-4 mr-3' }),
                                        'Manage Customers'
                                    )
                                ),
                                h(Link, { to: '/products' },
                                    h(Button, { variant: 'outline', className: 'w-full justify-start h-12' },
                                        h(Package, { className: 'w-4 h-4 mr-3' }),
                                        'View Products'
                                    )
                                ),
                                h(Link, { to: '/shipping' },
                                    h(Button, { variant: 'outline', className: 'w-full justify-start h-12' },
                                        h(Truck, { className: 'w-4 h-4 mr-3' }),
                                        'Track Shipments'
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }

        function Orders() {
            const [orders] = useState(mockOrders);
            const [statusFilter, setStatusFilter] = useState('all');
            
            const filteredOrders = statusFilter === 'all' 
                ? orders 
                : orders.filter(order => order.status === statusFilter);

            const getCustomerName = (customerId) => {
                const customer = mockCustomers.find(c => c.id === customerId);
                return customer ? customer.name : 'Unknown Customer';
            };

            const formatDate = (dateString) => {
                return new Date(dateString).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'short',
                    day: 'numeric'
                });
            };

            return h(DashboardLayout, { currentPage: 'orders' },
                h('div', { className: 'space-y-6 animate-fade-in' },
                    // Header
                    h('div', { className: 'flex items-center justify-between' },
                        h('div', null,
                            h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Orders'),
                            h('p', { className: 'text-gray-600 mt-1' }, 'Manage customer orders and treatments')
                        ),
                        h(Link, { to: '/orders/new' },
                            h(Button, null,
                                h(Plus, { className: 'w-4 h-4 mr-2' }),
                                'New Order'
                            )
                        )
                    ),

                    // Filters
                    h('div', { className: 'flex items-center space-x-4' },
                        h('select', {
                            value: statusFilter,
                            onChange: (e) => setStatusFilter(e.target.value),
                            className: 'rounded-md border border-gray-300 px-3 py-2'
                        },
                            h('option', { value: 'all' }, 'All Orders'),
                            h('option', { value: 'pending' }, 'Pending'),
                            h('option', { value: 'processing' }, 'Processing'),
                            h('option', { value: 'completed' }, 'Completed'),
                            h('option', { value: 'delivered' }, 'Delivered')
                        )
                    ),

                    // Orders Grid
                    h('div', { className: 'grid gap-6' },
                        filteredOrders.map(order => 
                            h(Card, { key: order.id, className: 'shadow-card hover:shadow-elegant transition-smooth' },
                                h(CardHeader, { className: 'flex flex-row items-start justify-between' },
                                    h('div', null,
                                        h(CardTitle, null, `Order #${order.id.slice(-3)}`),
                                        h('p', { className: 'text-sm text-gray-600 mt-1' },
                                            `Customer: ${getCustomerName(order.customer_id)}`
                                        )
                                    ),
                                    h(Badge, { 
                                        variant: order.status === 'completed' || order.status === 'delivered' ? 'default' :
                                                order.status === 'processing' ? 'secondary' : 'outline',
                                        className: 'capitalize'
                                    }, order.status)
                                ),
                                h(CardContent, null,
                                    h('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-4' },
                                        h('div', null,
                                            h('p', { className: 'text-sm font-medium text-gray-900' }, 'Total Amount'),
                                            h('p', { className: 'text-lg font-bold text-green-600' }, 
                                                `$${order.total_amount.toLocaleString()}`
                                            )
                                        ),
                                        h('div', null,
                                            h('p', { className: 'text-sm font-medium text-gray-900' }, 'Date'),
                                            h('p', { className: 'text-sm text-gray-600' }, formatDate(order.created_at))
                                        ),
                                        h('div', null,
                                            h('p', { className: 'text-sm font-medium text-gray-900' }, 'Items'),
                                            h('p', { className: 'text-sm text-gray-600' }, 
                                                `${order.items ? order.items.length : 0} item(s)`
                                            )
                                        )
                                    ),
                                    order.notes && h('div', { className: 'mt-4 p-3 bg-gray-50 rounded-lg' },
                                        h('p', { className: 'text-sm font-medium text-gray-900 mb-1' }, 'Notes'),
                                        h('p', { className: 'text-sm text-gray-600' }, order.notes)
                                    ),
                                    h('div', { className: 'flex justify-end space-x-2 mt-4' },
                                        h(Button, { variant: 'outline', size: 'sm' },
                                            h(Eye, { className: 'w-4 h-4 mr-2' }),
                                            'View Details'
                                        ),
                                        h(Button, { variant: 'outline', size: 'sm' },
                                            h(Edit, { className: 'w-4 h-4 mr-2' }),
                                            'Edit'
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }

        function Customers() {
            const [customers] = useState(mockCustomers);
            const [searchTerm, setSearchTerm] = useState('');
            
            const filteredCustomers = customers.filter(customer =>
                customer.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                customer.email.toLowerCase().includes(searchTerm.toLowerCase())
            );

            const formatAddress = (address) => {
                if (!address) return 'No address';
                return `${address.street}, ${address.city}, ${address.state} ${address.zip}`;
            };

            return h(DashboardLayout, { currentPage: 'customers' },
                h('div', { className: 'space-y-6 animate-fade-in' },
                    // Header
                    h('div', { className: 'flex items-center justify-between' },
                        h('div', null,
                            h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Customers'),
                            h('p', { className: 'text-gray-600 mt-1' }, 'Manage customer information and history')
                        ),
                        h(Button, null,
                            h(Plus, { className: 'w-4 h-4 mr-2' }),
                            'Add Customer'
                        )
                    ),

                    // Search
                    h('div', { className: 'relative max-w-md' },
                        h(Search, { className: 'absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4' }),
                        h(Input, {
                            placeholder: 'Search customers...',
                            value: searchTerm,
                            onChange: (e) => setSearchTerm(e.target.value),
                            className: 'pl-10'
                        })
                    ),

                    // Customers Grid
                    h('div', { className: 'grid gap-6' },
                        filteredCustomers.map(customer => 
                            h(Card, { key: customer.id, className: 'shadow-card hover:shadow-elegant transition-smooth' },
                                h(CardHeader, { className: 'flex flex-row items-start justify-between' },
                                    h('div', { className: 'flex-1' },
                                        h(CardTitle, null, customer.name),
                                        h('div', { className: 'flex items-center space-x-4 mt-2 text-sm text-gray-600' },
                                            h('div', { className: 'flex items-center' },
                                                h(Mail, { className: 'w-4 h-4 mr-1' }),
                                                customer.email
                                            ),
                                            customer.phone && h('div', { className: 'flex items-center' },
                                                h(Phone, { className: 'w-4 h-4 mr-1' }),
                                                customer.phone
                                            )
                                        )
                                    ),
                                    h('div', { className: 'flex space-x-2' },
                                        h(Button, { variant: 'outline', size: 'sm' },
                                            h(Eye, { className: 'w-4 h-4' })
                                        ),
                                        h(Button, { variant: 'outline', size: 'sm' },
                                            h(Edit, { className: 'w-4 h-4' })
                                        )
                                    )
                                ),
                                h(CardContent, null,
                                    customer.default_address && h('div', { className: 'mb-4' },
                                        h('div', { className: 'flex items-start' },
                                            h(MapPin, { className: 'w-4 h-4 mr-2 mt-0.5 text-gray-400' }),
                                            h('p', { className: 'text-sm text-gray-600' }, formatAddress(customer.default_address))
                                        )
                                    ),
                                    customer.notes && h('div', { className: 'p-3 bg-gray-50 rounded-lg' },
                                        h('p', { className: 'text-sm font-medium text-gray-900 mb-1' }, 'Notes'),
                                        h('p', { className: 'text-sm text-gray-600' }, customer.notes)
                                    ),
                                    h('div', { className: 'flex justify-between items-center mt-4 pt-4 border-t border-gray-200' },
                                        h('p', { className: 'text-sm text-gray-500' }, 
                                            `Customer since ${new Date(customer.created_at).toLocaleDateString()}`
                                        ),
                                        h(Link, { to: `/orders/new?customer=${customer.id}` },
                                            h(Button, { size: 'sm' },
                                                h(Plus, { className: 'w-4 h-4 mr-2' }),
                                                'New Order'
                                            )
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }

        function Products() {
            const [products] = useState(mockProducts);

            return h(DashboardLayout, { currentPage: 'products' },
                h('div', { className: 'space-y-6 animate-fade-in' },
                    // Header
                    h('div', { className: 'flex items-center justify-between' },
                        h('div', null,
                            h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Products'),
                            h('p', { className: 'text-gray-600 mt-1' }, 'Manage IV therapy products and services')
                        ),
                        h(Button, null,
                            h(Plus, { className: 'w-4 h-4 mr-2' }),
                            'Add Product'
                        )
                    ),

                    // Products Grid
                    h('div', { className: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6' },
                        products.map(product => 
                            h(Card, { key: product.id, className: 'shadow-card hover:shadow-elegant transition-smooth' },
                                h(CardHeader, null,
                                    h(CardTitle, null, product.name),
                                    h('p', { className: 'text-sm text-gray-600 mt-1' }, product.description)
                                ),
                                h(CardContent, null,
                                    h('div', { className: 'space-y-3' },
                                        h('div', { className: 'flex justify-between items-center' },
                                            h('span', { className: 'text-sm font-medium text-gray-900' }, 'Price'),
                                            h('span', { className: 'text-lg font-bold text-green-600' }, `$${product.price.toFixed(2)}`)
                                        ),
                                        h('div', { className: 'flex justify-between items-center' },
                                            h('span', { className: 'text-sm font-medium text-gray-900' }, 'Stock'),
                                            h(Badge, { 
                                                variant: product.stock > 10 ? 'default' : product.stock > 0 ? 'secondary' : 'destructive' 
                                            }, `${product.stock} units`)
                                        ),
                                        h('div', { className: 'flex justify-between items-center' },
                                            h('span', { className: 'text-sm font-medium text-gray-900' }, 'SKU'),
                                            h('span', { className: 'text-sm text-gray-600' }, product.sku)
                                        )
                                    ),
                                    h('div', { className: 'flex space-x-2 mt-4' },
                                        h(Button, { variant: 'outline', size: 'sm', className: 'flex-1' },
                                            h(Edit, { className: 'w-4 h-4 mr-2' }),
                                            'Edit'
                                        ),
                                        h(Button, { variant: 'outline', size: 'sm', className: 'flex-1' },
                                            h(Eye, { className: 'w-4 h-4 mr-2' }),
                                            'View'
                                        )
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }

        function Claims() {
            return h(DashboardLayout, { currentPage: 'claims' },
                h('div', { className: 'space-y-6 animate-fade-in' },
                    h('div', { className: 'flex items-center justify-between' },
                        h('div', null,
                            h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Claims'),
                            h('p', { className: 'text-gray-600 mt-1' }, 'Manage customer claims and issues')
                        ),
                        h(Button, null,
                            h(Plus, { className: 'w-4 h-4 mr-2' }),
                            'New Claim'
                        )
                    ),
                    h(Card, { className: 'p-12 text-center' },
                        h(FileText, { className: 'w-16 h-16 text-gray-400 mx-auto mb-4' }),
                        h('h3', { className: 'text-lg font-semibold text-gray-900 mb-2' }, 'No Claims Yet'),
                        h('p', { className: 'text-gray-600' }, 'Claims will appear here when customers report issues.')
                    )
                )
            );
        }

        function Shipping() {
            return h(DashboardLayout, { currentPage: 'shipping' },
                h('div', { className: 'space-y-6 animate-fade-in' },
                    h('div', { className: 'flex items-center justify-between' },
                        h('div', null,
                            h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Shipping'),
                            h('p', { className: 'text-gray-600 mt-1' }, 'Track shipments and manage logistics')
                        ),
                        h(Button, null,
                            h(Plus, { className: 'w-4 h-4 mr-2' }),
                            'Create Shipment'
                        )
                    ),
                    h(Card, { className: 'p-12 text-center' },
                        h(Truck, { className: 'w-16 h-16 text-gray-400 mx-auto mb-4' }),
                        h('h3', { className: 'text-lg font-semibold text-gray-900 mb-2' }, 'No Shipments Yet'),
                        h('p', { className: 'text-gray-600' }, 'Shipment tracking will appear here when orders are processed.')
                    )
                )
            );
        }

        function SettingsPage() {
            return h(DashboardLayout, { currentPage: 'settings' },
                h('div', { className: 'space-y-6 animate-fade-in' },
                    h('div', null,
                        h('h1', { className: 'text-3xl font-bold text-gray-900' }, 'Settings'),
                        h('p', { className: 'text-gray-600 mt-1' }, 'Configure your IV RELIFE system')
                    ),
                    h('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-6' },
                        h(Card, null,
                            h(CardHeader, null,
                                h(CardTitle, null, 'Account Settings')
                            ),
                            h(CardContent, { className: 'space-y-4' },
                                h('div', null,
                                    h('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'Name'),
                                    h(Input, { value: mockUser.name, readOnly: true })
                                ),
                                h('div', null,
                                    h('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'Email'),
                                    h(Input, { value: mockUser.email, readOnly: true })
                                ),
                                h('div', null,
                                    h('label', { className: 'block text-sm font-medium text-gray-700 mb-1' }, 'Role'),
                                    h(Input, { value: mockUser.role, readOnly: true })
                                )
                            )
                        ),
                        h(Card, null,
                            h(CardHeader, null,
                                h(CardTitle, null, 'System Preferences')
                            ),
                            h(CardContent, { className: 'space-y-4' },
                                h('div', null,
                                    h('label', { className: 'flex items-center' },
                                        h('input', { type: 'checkbox', className: 'mr-2' }),
                                        'Email notifications'
                                    )
                                ),
                                h('div', null,
                                    h('label', { className: 'flex items-center' },
                                        h('input', { type: 'checkbox', className: 'mr-2' }),
                                        'SMS notifications'
                                    )
                                ),
                                h('div', null,
                                    h('label', { className: 'flex items-center' },
                                        h('input', { type: 'checkbox', className: 'mr-2', defaultChecked: true }),
                                        'Auto-save drafts'
                                    )
                                )
                            )
                        )
                    )
                )
            );
        }

        function NotFound() {
            return h('div', { className: 'min-h-screen flex items-center justify-center bg-gray-50' },
                h('div', { className: 'text-center' },
                    h('h1', { className: 'text-4xl font-bold text-gray-900 mb-4' }, '404'),
                    h('p', { className: 'text-gray-600 mb-8' }, 'Page not found'),
                    h(Link, { to: '/' },
                        h(Button, null, 'Go Home')
                    )
                )
            );
        }

        // Main App Component
        function App() {
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                // Simulate app initialization
                const timer = setTimeout(() => {
                    setLoading(false);
                }, 1500);
                
                return () => clearTimeout(timer);
            }, []);

            if (loading) {
                return h('div', { className: 'flex items-center justify-center min-h-screen bg-gray-50' },
                    h('div', { className: 'text-center' },
                        h('div', { className: 'loading-spinner mx-auto mb-4' }),
                        h('p', { className: 'text-gray-600' }, 'Loading IV RELIFE Nexus...')
                    )
                );
            }

            return h(BrowserRouter, null,
                h('div', { className: 'min-h-screen bg-gray-50' },
                    h(Routes, null,
                        h(Route, { path: '/', element: h(Navigate, { to: '/dashboard', replace: true }) }),
                        h(Route, { path: '/dashboard', element: h(Dashboard) }),
                        h(Route, { path: '/orders', element: h(Orders) }),
                        h(Route, { path: '/customers', element: h(Customers) }),
                        h(Route, { path: '/products', element: h(Products) }),
                        h(Route, { path: '/claims', element: h(Claims) }),
                        h(Route, { path: '/shipping', element: h(Shipping) }),
                        h(Route, { path: '/settings', element: h(SettingsPage) }),
                        h(Route, { path: '*', element: h(NotFound) })
                    )
                )
            );
        }

        // Initialize Application
        const root = createRoot(document.getElementById('root'));
        root.render(h(App));

        // Debug logging
        console.log('🚀 IV RELIFE Nexus Comprehensive Application Loaded Successfully');
        console.log('📊 Dashboard with real business metrics');
        console.log('📋 Complete order management system');
        console.log('👥 Customer relationship management');
        console.log('📦 Product catalog with inventory');
        console.log('🎨 Professional UI with Tailwind CSS');
        console.log('🔍 Full navigation and routing');
        console.log('React version:', React.version);
        console.log('Application initialized at:', new Date().toISOString());
    </script>
</body>
</html>